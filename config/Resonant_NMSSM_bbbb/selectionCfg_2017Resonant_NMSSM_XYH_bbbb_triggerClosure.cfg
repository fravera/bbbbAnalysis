# the definition of composed selections. Can contain as well TCut style selections, e.g.:
# resolved = baseline, btagMM, massCut
# resolvedHighPt = baseline, btagMM, massCut, dau1_pt > 150
# use comma separated lists


[datasetSelection]
ttBarTriggered                         = ((HLT_PFHT300PT30_QuadPFJet_75_60_45_40_TriplePFBTagCSV_3p0_Fired==1 && HLT_PFHT300PT30_QuadPFJet_75_60_45_40_TriplePFBTagCSV_3p0_ObjectMatched>0) || (HLT_HT300PT30_QuadJet_75_60_45_40_TripeCSV_p07_Fired==1 && HLT_HT300PT30_QuadJet_75_60_45_40_TripeCSV_p07_ObjectMatched > 0))
singleMuonTriggered                    = ((HLT_PFHT300PT30_QuadPFJet_75_60_45_40_TriplePFBTagCSV_3p0_Fired==1 && HLT_PFHT300PT30_QuadPFJet_75_60_45_40_TriplePFBTagCSV_3p0_ObjectMatched>0) || (HLT_HT300PT30_QuadJet_75_60_45_40_TripeCSV_p07_Fired==1 && HLT_HT300PT30_QuadJet_75_60_45_40_TripeCSV_p07_ObjectMatched > 0))
sig_NMSSM_bbbb_MX_300_MY_125_triggered = ((HLT_PFHT300PT30_QuadPFJet_75_60_45_40_TriplePFBTagCSV_3p0_Fired==1 && HLT_PFHT300PT30_QuadPFJet_75_60_45_40_TriplePFBTagCSV_3p0_ObjectMatched>0) || (HLT_HT300PT30_QuadJet_75_60_45_40_TripeCSV_p07_Fired==1 && HLT_HT300PT30_QuadJet_75_60_45_40_TripeCSV_p07_ObjectMatched > 0))

#########################################################################
#########################################################################

[selections]
PtAndEtaBaseCuts      = H1_b1_pt > 40 && H1_b2_pt > 40 && H2_b1_pt > 40 && H2_b2_pt > 40 && abs(H1_b1_eta)<2.4 && abs(H1_b2_eta)<2.4 && abs(H2_b1_eta)<2.4 && abs(H2_b2_eta)<2.4 && H1_b1_ptRegressed > 40 && H1_b2_ptRegressed > 40 && H2_b1_ptRegressed > 40 && H2_b2_ptRegressed > 40
SignalRegionCut       = H1_m >= 125-20 && H1_m < 125+20
SelectIsoMuon         = IsolatedMuon_pt<15

Full                  = NbJets >= 4
SignalRegion          = Full, SignalRegionCut, SelectIsoMuon

#########################################################################
#########################################################################

[selectionWeights]

#########################################################################
#########################################################################

[sampleWeights]
singleMuonNotTriggered                    = triggerDataEfficiency
ttBarTriggered                            = genWeight, PUWeight, LHEPdfWeight, LHEScaleWeight, XS, bTagScaleFactor_central
ttBarNotTriggered                         = genWeight, PUWeight, LHEPdfWeight, LHEScaleWeight, XS, bTagScaleFactor_central, triggerMcEfficiency
sig_NMSSM_bbbb_MX_300_MY_125_triggered    = genWeight, PUWeight, LHEPdfWeight, LHEScaleWeight, XS, bTagScaleFactor_central
sig_NMSSM_bbbb_MX_300_MY_125_notTriggered = genWeight, PUWeight, LHEPdfWeight, LHEScaleWeight, XS, bTagScaleFactor_central, triggerMcEfficiency

#########################################################################
#########################################################################

# define alternative weights to be tested instead of the nominal one
[systematics]
triggerMcEfficiency    = triggerMcEfficiencyUp, triggerMcEfficiencyDown
triggerDataEfficiency  = triggerDataEfficiencyUp, triggerDataEfficiencyDown
doSystematicVariations = singleMuonNotTriggered, ttBarNotTriggered, sig_NMSSM_bbbb_MX_300_MY_125_notTriggered

#########################################################################
#########################################################################


# write binning as ROOT declaration: nXbins, xmin, xmax
[histos]
FirstJetPt                = 50, 0., 600.
SecondJetPt               = 50, 0., 400.
ThirdJetPt                = 50, 0., 250.
FourthJetPt               = 50, 0., 200.
FirstJetEta               = 50, -2.5, 2.5
SecondJetEta              = 50, -2.5, 2.5
ThirdJetEta               = 50, -2.5, 2.5
FourthJetEta              = 50, -2.5, 2.5
FourHighetJetPtSum        = 50, 200., 600.
FirstJetDeepCSV           = 50, 0., 1.
SecondJetDeepCSV          = 50, 0., 1.
ThirdJetDeepCSV           = 50, 0., 1.
FourthJetDeepCSV          = 50, 0., 1.
H1_m                      = 300, 0, 300
H2_m                      = 300, 0, 3000
HH_m                      = 300, 0, 3000
HH_pt                     = 300, 0, 3000

HLT_Pt1                    = 50, 0, 500
HLT_Pt2                    = 50, 0, 500
HLT_Pt3                    = 50, 0, 300
HLT_Pt4                    = 50, 0, 300
HLT_SumPtCaloJet           = 50, 0, 1000
HLT_SumPtPfJet             = 50, 0, 1000
HLT_SumPtJetOnly           = 50, 0, 1000


# write binning as ROOT declaration: nXbins, xmin, xmax, nYbins, ymin, ymax
[histos2D]
H1_m:H2_m    = 100, 0, 300, 300, 0, 2300
HH_m:H2_m    = 300, 200, 2400, 300, 30, 2300

# user defined binning: if defined, overrides any definition in [histos]
[binning2D] 
